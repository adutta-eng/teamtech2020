{"ast":null,"code":"import axios from 'axios';\n\nfunction kebabCaseToCamel(str) {\n  return str.replace(/(\\-\\w)/g, matches => matches[1].toUpperCase());\n}\n\nclass API {\n  constructor({\n    url\n  }) {\n    this.url = url;\n    this.endpoints = {};\n  }\n  /**\n   * Create and store a single entity's endpoints\n   * @param {A entity Object} entity\n   */\n\n\n  createEntity(entity) {\n    /**\n     * If there is a - in the entity.name, then change it\n     * to camelCase. E.g\n     * ```\n     * myApi.createEntity({ name : 'foo-bar'})\n     * myApi.endpoints.fooBar.getAll(...)\n     */\n    const name = kebabCaseToCamel(entity.name);\n    this.endpoints[name] = this.createBasicCRUDEndpoints(entity);\n  }\n\n  createEntities(arrayOfEntity) {\n    arrayOfEntity.forEach(this.createEntity.bind(this));\n  }\n  /**\n   * Create the basic endpoints handlers for CRUD operations\n   * @param {A entity Object} entity\n   */\n\n\n  createBasicCRUDEndpoints({\n    name\n  }) {\n    var endpoints = {};\n    const resourceURL = `${this.url}`;\n\n    endpoints.getAllSamples = () => axios.get(`${resourceURL}/samples`);\n\n    endpoints.getOneUser = ({\n      uuid\n    }) => axios.get(`${resourceURL}/samples/${uuid}`);\n\n    endpoints.getOneProcess = ({\n      processName\n    }) => axios.get(`${resourceURL}/categories/${processName}`);\n\n    endpoints.sunburstData = function ({\n      uuid\n    }, {\n      start_timestamp\n    }, {\n      end_timestamp\n    }) {\n      var urll = `${resourceURL}/sunburst/?uuid=${uuid}`;\n\n      if (start_timestamp !== undefined) {\n        urll = urll + `&start=${start_timestamp}`;\n      }\n\n      if (end_timestamp !== undefined) {\n        urll = urll + `&end=${end_timestamp}`;\n      }\n\n      const response = axios.get(urll);\n      return response;\n    };\n\n    return endpoints;\n  }\n\n}\n\nexport default API;","map":{"version":3,"sources":["/Users/salonigarg/Downloads/teamtech2020/frontend/src/api.js"],"names":["axios","kebabCaseToCamel","str","replace","matches","toUpperCase","API","constructor","url","endpoints","createEntity","entity","name","createBasicCRUDEndpoints","createEntities","arrayOfEntity","forEach","bind","resourceURL","getAllSamples","get","getOneUser","uuid","getOneProcess","processName","sunburstData","start_timestamp","end_timestamp","urll","undefined","response"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,SAASC,gBAAT,CAA0BC,GAA1B,EAA+B;AAC3B,SAAOA,GAAG,CAACC,OAAJ,CAAa,SAAb,EAAyBC,OAAD,IAAaA,OAAO,CAAC,CAAD,CAAP,CAAWC,WAAX,EAArC,CAAP;AACH;;AAED,MAAMC,GAAN,CAAU;AACNC,EAAAA,WAAW,CAAC;AAAEC,IAAAA;AAAF,GAAD,EAAS;AAChB,SAAKA,GAAL,GAAWA,GAAX;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACH;AACD;;;;;;AAIAC,EAAAA,YAAY,CAACC,MAAD,EAAS;AACjB;;;;;;;AAQA,UAAMC,IAAI,GAAGX,gBAAgB,CAACU,MAAM,CAACC,IAAR,CAA7B;AACA,SAAKH,SAAL,CAAeG,IAAf,IAAuB,KAAKC,wBAAL,CAA8BF,MAA9B,CAAvB;AACH;;AAEDG,EAAAA,cAAc,CAACC,aAAD,EAAgB;AAC1BA,IAAAA,aAAa,CAACC,OAAd,CAAsB,KAAKN,YAAL,CAAkBO,IAAlB,CAAuB,IAAvB,CAAtB;AACH;AACD;;;;;;AAIAJ,EAAAA,wBAAwB,CAAE;AAAED,IAAAA;AAAF,GAAF,EAAa;AACjC,QAAIH,SAAS,GAAG,EAAhB;AAEA,UAAMS,WAAW,GAAI,GAAE,KAAKV,GAAI,EAAhC;;AAGAC,IAAAA,SAAS,CAACU,aAAV,GAA0B,MAAMnB,KAAK,CAACoB,GAAN,CAAW,GAAEF,WAAY,UAAzB,CAAhC;;AAEAT,IAAAA,SAAS,CAACY,UAAV,GAAuB,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAgBtB,KAAK,CAACoB,GAAN,CAAW,GAAEF,WAAY,YAAWI,IAAK,EAAzC,CAAvC;;AAEAb,IAAAA,SAAS,CAACc,aAAV,GAA0B,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAuBxB,KAAK,CAACoB,GAAN,CAAW,GAAEF,WAAY,eAAcM,WAAY,EAAnD,CAAjD;;AAEAf,IAAAA,SAAS,CAACgB,YAAV,GAAyB,UAAU;AAAEH,MAAAA;AAAF,KAAV,EAAmB;AAACI,MAAAA;AAAD,KAAnB,EAAsC;AAACC,MAAAA;AAAD,KAAtC,EAAuD;AAC5E,UAAIC,IAAI,GAAI,GAAEV,WAAY,mBAAkBI,IAAK,EAAjD;;AAEA,UAAII,eAAe,KAAKG,SAAxB,EAAmC;AAC/BD,QAAAA,IAAI,GAAGA,IAAI,GAAI,UAASF,eAAgB,EAAxC;AACH;;AACD,UAAIC,aAAa,KAAKE,SAAtB,EAAiC;AAC7BD,QAAAA,IAAI,GAAGA,IAAI,GAAI,QAAOD,aAAc,EAApC;AACH;;AAED,YAAMG,QAAQ,GAAG9B,KAAK,CAACoB,GAAN,CAAUQ,IAAV,CAAjB;AACA,aAAOE,QAAP;AACH,KAZD;;AAcA,WAAOrB,SAAP;AAEH;;AAzDK;;AA6DV,eAAeH,GAAf","sourcesContent":["import axios from 'axios'\n\nfunction kebabCaseToCamel(str) {\n    return str.replace( /(\\-\\w)/g, (matches) => matches[1].toUpperCase())\n}\n\nclass API {\n    constructor({ url }){\n        this.url = url\n        this.endpoints = {}\n    }\n    /**\n     * Create and store a single entity's endpoints\n     * @param {A entity Object} entity\n     */\n    createEntity(entity) {\n        /**\n         * If there is a - in the entity.name, then change it\n         * to camelCase. E.g\n         * ```\n         * myApi.createEntity({ name : 'foo-bar'})\n         * myApi.endpoints.fooBar.getAll(...)\n         */\n\n        const name = kebabCaseToCamel(entity.name)\n        this.endpoints[name] = this.createBasicCRUDEndpoints(entity)\n    }\n\n    createEntities(arrayOfEntity) {\n        arrayOfEntity.forEach(this.createEntity.bind(this))\n    }\n    /**\n     * Create the basic endpoints handlers for CRUD operations\n     * @param {A entity Object} entity\n     */\n    createBasicCRUDEndpoints( { name } ) {\n        var endpoints = {}\n\n        const resourceURL = `${this.url}`\n\n\n        endpoints.getAllSamples = () => axios.get(`${resourceURL}/samples`)\n\n        endpoints.getOneUser = ({ uuid } ) =>  axios.get(`${resourceURL}/samples/${uuid}`)\n\n        endpoints.getOneProcess = ({ processName } ) =>  axios.get(`${resourceURL}/categories/${processName}`)\n\n        endpoints.sunburstData = function ({ uuid}, {start_timestamp}, {end_timestamp}) { \n            var urll = `${resourceURL}/sunburst/?uuid=${uuid}`;\n            \n            if (start_timestamp !== undefined) {\n                urll = urll + `&start=${start_timestamp}`\n            }\n            if (end_timestamp !== undefined) {\n                urll = urll + `&end=${end_timestamp}`\n            }\n\n            const response = axios.get(urll)\n            return response\n        }\n\n        return endpoints\n\n    }\n\n}\n\nexport default API"]},"metadata":{},"sourceType":"module"}